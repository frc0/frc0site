<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="UTF-8">
    <title>FRC Team Management Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootswatch CSS (Spacelab theme) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5/dist/spacelab/bootstrap.min.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        .main-info-row {
            margin-bottom: 20px;
            background: #04488d;
            border-radius: 5px;
        }

        .secondary-info-row {
            margin-bottom: 20px;
            background: #8d0404;
            border-radius: 5px;
        }

        /* Styling for info spans */
        .btn-info {
            font-size: 1.0rem;
            padding: 0.1rem 0.5rem;
            margin-left: 5px;
            color: #fff !important;
        }

        /* banner-row */
        body[data-bs-theme="light"] .banner-row {
            background-color: #f8f9fa;
        }

        body[data-bs-theme="dark"] .banner-row {
            background-color: #333;
        }

        /* center banners inside of their col in the row */
        .banner-row .col,
        .banner-row .col-6 {
            display: flex;
            justify-content: center;
            padding-top: 10px;
            padding-bottom: 10px;
        }

        .blue-banner, .red-banner {
            background: #0F4BCB;
            color: #fff !important;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            height: 85px;
            line-height: 1.2;
            margin: 0 0 10px;
            padding: 5px;
            position: relative;
            text-align: center;
            vertical-align: top;
            white-space: normal;
            width: 80px;
            word-wrap: break-word;
        }

        .blue-banner:after, .red-banner:after {
            border-bottom: 80px solid #0f4bcb; /* Adjusted for responsiveness */
            border-color: #0f4bcb #0f4bcb transparent;
            border-style: solid;
            border-width: 3px 40px 10px;
            content: "";
            display: block;
            left: 0;
            position: absolute;
            top: 100%;
        }

        .blue-banner h5, .red-banner h5 {
            color: #fff !important;
        }

        .red-banner {
            background: #8d0404;
        }

        .red-banner:after {
            border-color: #8d0404 #8d0404 transparent;
        }

        .blue-bumper {
            background: #04488d;
            color: #fff;
            border-radius: 5px;
            text-align: center !important;
        }

        .blue-bumper h3 {
            color: #fff !important;
        }

        .red-bumper {
            background: #8d0404;
            color: #fff;
            border-radius: 5px;
            text-align: center !important;
        }

        .red-bumper h3 {
            color: #fff !important;
        }

        .member-badge {
            display: inline-block;
            padding: 5px;
            margin: 5px;
            background: #04488d;
            color: #fff;
            border-radius: 5px;
        }

        .subteam-leader-badge {
            display: inline-block;
            padding: 5px;
            margin: 5px;
            background: #8d0404;
            color: #fff;
            border-radius: 5px;
        }

        .team-number-div {
            background: #000;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        #team-number {
            /* Centered in the vertical and horizontal of its parent */
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            width: 100%;
            font-size: 2rem;
            font-family: 'Impact', sans-serif;
            color: #fff;
        }

        #team-name {
            color: #fff;
        }

        /* team-color-input */
        #team-color-input {
            padding: 0;
            border: none;
            border-radius: 5px;
            background: none;
        }

        /* left-fab */
        .left-fab {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
        }

        thead tr th {
            background: #5d6063 !important;
            color: #fff !important;
            font-size: 0.8rem;
        }

        /* White tape line style hr */
        hr {
            border: 0;
            height: 10px;
            background: #fff;
            background-image: linear-gradient(to right, #fff, #ccc, #fff);
            opacity: 1;
        }

        /* Light and Dark modal-title */
        body[data-bs-theme="dark"] .modal-title {
            color: #fff;
        }

        /* dark h1 - h6 */
        body[data-bs-theme="dark"] h1, body[data-bs-theme="dark"] h2, body[data-bs-theme="dark"] h3, body[data-bs-theme="dark"] h4, body[data-bs-theme="dark"] h2, body[data-bs-theme="dark"] h6 {
            color: #fff !important;
        }

        /* minimum width of 400px for the body */
        body {
            min-width: 415px;
        }

        /* loading-footer and new-members-list opacity transitions smoothly */
        #loading-footer, #new-members-list {
            transition: opacity 0.5s;
        }

        /* btn-group should always be 100% width */
        .btn-group {
            width: 100%;
        }

        /* small-text */
        .small-text {
            font-size: 0.8rem;
        }
        
    </style>
</head>
<body data-bs-theme="dark">

<div class="container my-3">

    <!-- Tabbed Container to hold Team Info, Build Season, Competition Season, Statistics-->
    <div id="mainTabsContainer">
        <ul class="nav nav-tabs" id="mainTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="teamInfo-tab" data-bs-toggle="tab" data-bs-target="#teamInfo" type="button" role="tab" aria-controls="teamInfo" aria-selected="true">Team Info</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="buildSeason-tab" data-bs-toggle="tab" data-bs-target="#buildSeason" type="button" role="tab" aria-controls="buildSeason" aria-selected="false">Build Season</button>
            </li>
        </ul>
        <div class="tab-content" id="mainTabsContent">
            <!-- Team Info Tab -->
            <div class="tab-pane fade show active" id="teamInfo" role="tabpanel" aria-labelledby="teamInfo-tab">
                <!-- Season and Week Information Card -->
                <div class="card mb-3 main-info-row">
                    <div class="card-header">
                        <div class="row">
                            <div class="col-6">
                                <h2 id="team-name" title="Double-click to change team name">Team Name</h2>
                                <p class="text-white small-text">(Double-click to change team name)</p>
                            </div>
                            <div class="col-6 text-center">
                                <div class=" team-number-div mb-2" id="team-number-div" title="Double-click to change team color">
                                    <h4 id="team-number"></h4>
                                </div>
                                <p class="text-white small-text">(Double-click to change team color)</p>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <table class="table table-bordered text-center">
                            <thead>
                                <tr>
                                    <th>Current Season <span class="text-muted btn btn-info" id="season-info">i</span></th>
                                    <th>Current Week <span class="text-muted btn btn-info" id="week-info">i</span></th>
                                    <th>Team Points <span class="fas fa-trophy"></span> <span class="text-muted btn btn-info" id="team-points-info">i</span></th>
                                    <th>Prestige Bonus <span class="text-muted btn btn-info" id="prestige-bonus-info">i</span></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td id="season-number"></td>
                                    <td id="week-number"></td>
                                    <td id="team-points"></td>
                                    <td>x<span id="prestige-bonus"></span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- Footer will be used as a side scrollable div to hold their banners -->
                    <div class="card-footer">
                        <div class="row">
                            <div class="col-12 text-center">
                                <h2>Team Banners <span class="text-muted btn btn-info" id="team-banners-info">i</span></h2>
                                <div class="row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 g-2 banner-row" id="team-banners"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Build Season Tab -->
            <div class="tab-pane fade" id="buildSeason" role="tabpanel" aria-labelledby="buildSeason-tab">
                <!-- Resource Overview -->
                <div class="card mb-3 secondary-info-row">
                    <div class="card-body">
                        <table class="table table-bordered text-center">
                            <thead>
                                <tr>
                                    <th>Team Members <span class="fas fa-users"></span> <span class="text-muted btn btn-info" id="team-members-info">i</span></th>
                                    <th>Subteam Leaders <span class="text-muted btn btn-info" id="subteam-leaders-info">i</span></th>
                                    <th>Materials <span class="fas fa-screwdriver-wrench"></span> <span class="text-muted btn btn-info" id="materials-info">i</span></th>
                                    <th>Money <span class="fas fa-dollar-sign"></span> <span class="text-muted btn btn-info" id="money-info">i</span></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td id="team-members"></td>
                                    <td id="subteam-leaders"></td>
                                    <td id="materials"></td>
                                    <td id="money"></td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="btn-group mb-3" role="group" aria-label="Main Game Buttons">
                            <button class="btn btn-info" id="purchase-materials-btn">Purchase Materials ($500 for 50 units)</button>
                            <button class="btn btn-warning" id="unlock-subteam-leader-btn">Promote to Subteam Leader ($2,000)</button>
                            <button class="btn btn-secondary" id="view-roster-btn">View Team Roster</button>
                            <button class="btn btn-success" id="advance-week-btn">Advance Week</button>
                        </div>
                    </div>
                </div>
            
                <!-- Tasks Section -->
                <div class="card" id="tasks-card">
                    <div class="card-header">
                        <h2>Tasks</h2>
                        <p class="text-muted">Gold bordered tasks are 'Critical' and must be completed to advance to the next week.</p>
                    </div>
                    <div class="card-body">
                        <div id="tasks-list" class="row row-cols-1 row-cols-sm-3 row-cols-md-4 g-2">
                            <!-- Task buttons will be dynamically inserted here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="settingsModalLabel">Settings</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-6">
                                <!-- Change the theme from light to dark, based on user local storage -->
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="theme-switch">
                                    <label class="form-check label" for="theme-switch">Dark Mode</label>
                                </div>
                            </div>
                            <div class="col-6">
                                <button class="btn btn-danger" id="reset-game-btn">Reset Game</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Reset Game Modal -->
    <div class="modal fade" id="resetGameModal" tabindex="-1" aria-labelledby="resetGameModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="resetGameModalLabel">Reset Game</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to reset the game?</p>
                    <p>This will erase all progress and start a new game.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirm-reset-game-btn">Reset Game</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Initial Team Info Modal -->
    <div class="modal fade" id="initialTeamInfoModal" tabindex="-1" aria-labelledby="initialTeamInfoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title" id="initialTeamInfoModalLabel">Welcome to the FRC Team Management Game!</h1>
                </div>
                <div class="modal-body">
                    <!-- What is FRC? Section -->
                    <div id="whatIsFRCSection">
                        <h2>What is FRC?</h2>
                        <div>
                            <p>Founded by inventor Dean Kamen (Inventor of the Segway), FIRST Robotics Competition (FRC) combines the excitement of sport with the rigors of science and technology.</p>
                            <p>Under strict rules, limited resources, and time limits, teams of students are challenged to raise funds, design a team "brand," hone teamwork skills, and build and program industrial-size robots to play a different, challenging field game against like-minded competitors.</p>
                            <p>Students get to:</p>
                            <ul>
                                <li>Learn from professional engineers</li>
                                <li>Build and compete with a robot of their own design</li>
                                <li>Learn and use sophisticated software and hardware</li>
                                <li>Compete and cooperate in alliances at tournaments</li>
                                <li>Earn a place in the World Championship</li>
                            </ul>
                            <p class="text-center">Watch the video below to see a match from the 2024 World Championship!</p>
                            <!-- Youtube iframe embed video -->
                            <div class="ratio ratio-16x9">
                                <iframe width="560" height="315" src="https://www.youtube.com/embed/Ac6YGoO6BXc?si=ATDVFJ10o4tzFF_A" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                            </div>
                            <p>For more general information, visit <a href="https://www.firstinspires.org/robotics/frc" target="_blank">firstinspires.org</a></p>
                        </div>
                    </div>
                    <hr>
                    <!-- WARNING ALERT -->
                    <div class="alert alert-warning" role="alert">
                        <h2>Hey Future Champ in the Making!</h2>
                        <p>This game is meant to be a fun and educational tool to learn about FRC and some of the general tasks and challenges that teams face.</p>
                        <p>The mechanics of this game do not exactly follow real FRC rules and tournament formats.</p>
                        <br>
                        <p>Carefully read the information provided below (click on each heading) to understand how the game works.</p>
                        <p>Good luck!</p>
                    </div>
                    <h2>The Plot</h2>
                    <p>You are the new team leader of a rookie FRC team.</p>
                    <p>Your goal is to lead your team to success by managing resources and making strategic decisions.</p>
                    <p>Read the 'Game Manual' below to get started!</p>
                    <!-- Accordion Group to explain different parts of the game -->
                    <div class="accordion" id="gameInfoAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="seasonInfoHeading">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#seasonInfoCollapse" aria-expanded="true" aria-controls="seasonInfoCollapse" id="season-info-tutorial">
                                    Season Information
                                </button>
                            </h2>
                            <div id="seasonInfoCollapse" class="accordion-collapse collapse" aria-labelledby="seasonInfoHeading" data-bs-parent="#gameInfoAccordion">
                                <div class="accordion-body">
                                    <h2>Build Phase</h2>
                                    <p>Each 'Build' phase consists of 8 weeks. Your team builds up skill points, materials, and money to prepare for the 'Competition'.</p>
                                    <p>Teams are given $6,000, and 400 materials to start their Rookie season, and they do NOT have to pay the registration fee unless they qualify for the World Championship.</p>
                                    <p>After the Rookie season, teams will still get the $6,000 grant, but only 100 additional materials to start any additional season.</p>
                                    <p>As you accomplish 'Build' phase tasks, your team's skill levels advance. This is not a visual metric, but a background mechanic that plays into the 'Competition' phase.</p>
                                    <hr>
                                    <h2>Competition Phase</h2>
                                    <p>The 'Competition' phase assumes a Regional Model for simplicity sake. Your team will compete in a regional event, and possibly advance to the World Championship.</p>
                                    <p>This phase will auto advance showing a result of each match. The odds of win/loss/tie are based on your team's skill level, as well as any special bonuses you've earned, and a hint of randomness.</p>
                                    <p>Your team will play 10 Qualifier matches (based on the 2024 San Francisco Regional Schedule for 114), and then move on to the Elimination Rounds.</p>
                                    <p>Elimination rounds work with a single elimination winner takes all for simplicity sake. The top 5 teams of the regional event will advance to the World Championship.</p>
                                    <p>At the World Championship, your team will play 10 Qualifier matches, and then move on to the Elimination Rounds. The winner and runner up of the World Championship will earn extra bonuses towards the next season.</p>
                                    <hr>
                                    <h2>Post-Competition</h2>
                                    <p>After the World Championship, the game will calculate your team's prestige bonus, and then move on to the next season.</p>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="weekInfoHeading">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#weekInfoCollapse" aria-expanded="true" aria-controls="weekInfoCollapse" id="week-info-tutorial">
                                    Week Information
                                </button>
                            </h2>
                            <div id="weekInfoCollapse" class="accordion-collapse collapse" aria-labelledby="weekInfoHeading" data-bs-parent="#gameInfoAccordion">
                                <div class="accordion-body">
                                    <p>Each week, you will be presented with a list of tasks to choose from. Each task will have a description, and a resource cost associated with it.</p>
                                    <p>Tasks will help you build up your team's skill levels, and earn additional resources.</p>
                                    <p>After you've completed all the tasks you can, you may advance to the next week. You can only advance if all 'Critical' tasks are completed. Otherwise the week will start over.</p>
                                    <hr>
                                    <h2>Non-Kitbot Path (Coming Soon)</h2>
                                    <p>There will be a 'Non-Kitbot' path that will allow you to build a custom robot. This path will be more difficult, but will have a higher reward.</p>
                                    <p>This will feature all new tasks as well as new prestige bonuses as well as 'footgun' tasks that waste resources.</p>
                                    <p>Stay tuned for more information on this path in the future.</p>
                                    <hr>
                                    <h2>Retro Schedule (Coming Soon)</h2>
                                    <p>There will be a 'Retro Schedule' that will change the build season to 6 weeks only. This will be a more difficult path, but will have a higher reward.</p>
                                    <p>This will feature all new tasks for both the Kitbot and Non-Kitbot paths as well as new prestige bonuses.</p>
                                    <p>Stay tuned for more information after the Non-Kitbot path is released.</p>
                                </div>
                            </div>
                        </div>
                        <!-- game-ui-info-tutorial -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="gameUIInfoHeading">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#gameUIInfoCollapse" aria-expanded="true" aria-controls="gameUIInfoCollapse" id="game-ui-info-tutorial">
                                    Game UI Information
                                </button>
                            </h2>
                            <div id="gameUIInfoCollapse" class="accordion-collapse collapse" aria-labelledby="gameUIInfoHeading" data-bs-parent="#gameInfoAccordion">
                                <div class="accordion-body">
                                    <p>The game UI is mobile friendly, but is best played on a desktop or laptop.</p>
                                    <p>There are 4 main tabs to navigate through the game: 'Team Info', 'Build Season', 'Competition Season(Coming Soon)', and 'Statistics(Coming Soon)'.</p>
                                    <ul>
                                        <li>Team Info: This tab will show your team's information, and allow you to change your team's name and color. You can also see the current season and week. Also your current team points and prestige bonus.<br>Starting in V1.0.2 your team will earn Blue Banners for each Regional and World Championship win! These are a permanent record of your team's success.</li>
                                        <li>Build Season: This tab will show your team's resources, and allow you to purchase materials, unlock subteam leaders, view your team roster, and advance the week. You will also see a list of tasks to complete each week.</li>
                                        <li>Competition Season: This tab is still under construction.</li>
                                        <li>Statistics: This tab is still under construction.</li>
                                        <hr>
                                        <div id="ui-images-carousel" class="carousel slide" data-bs-ride="carousel">
                                            <div class="carousel-inner">
                                                <div class="carousel-item active">
                                                    <img src="tutorial_images/team_info.PNG" class="d-block w-100" alt="team-info">
                                                </div>
                                                <div class="carousel-item">
                                                    <img src="tutorial_images/build_season.PNG" class="d-block w-100" alt="build-season">
                                                </div>
                                            </div>
                                            <button class="carousel-control-prev" type="button" data-bs-target="#ui-images-carousel" data-bs-slide="prev">
                                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                <span class="visually-hidden">Previous</span>
                                            </button>
                                            <button class="carousel-control-next" type="button" data-bs-target="#ui-images-carousel" data-bs-slide="next">
                                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                <span class="visually-hidden">Next</span>
                                            </button>
                                        </div>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="teamPointsInfoHeading">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#teamPointsInfoCollapse" aria-expanded="true" aria-controls="teamPointsInfoCollapse" id="team-points-info-tutorial">
                                    Team Points Information
                                </button>
                            </h2>
                            <div id="teamPointsInfoCollapse" class="accordion-collapse collapse" aria-labelledby="teamPointsInfoHeading" data-bs-parent="#gameInfoAccordion">
                                <div class="accordion-body">
                                    <p>Team Points are a hidden metric that will help determine your team's success in the 'Competition' phase.</p>
                                    <p>As you complete tasks, your team's skill levels will increase, and so will your general team points.</p>
                                    <p>Team Points are used to determine your team's odds of winning matches, and advancing to the World Championship.</p>
                                    <p>Team Points are also used to determine your team's prestige bonus at the end of the season.</p>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="prestigeBonusInfoHeading">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#prestigeBonusInfoCollapse" aria-expanded="true" aria-controls="prestigeBonusInfoCollapse" id="prestige-bonus-info-tutorial">
                                    Prestige Bonus Information
                                </button>
                            </h2>
                            <div id="prestigeBonusInfoCollapse" class="accordion-collapse collapse" aria-labelledby="prestigeBonusInfoHeading" data-bs-parent="#gameInfoAccordion">
                                <div class="accordion-body">
                                    <p>The Prestige Bonus is a bonus that will help your team in all future seasons.</p>
                                    <p>It is calculated based on your team's performance in the 'Competition' phase, and is used as a multiplier for your team's skill levels in the 'Build' phase.</p>
                                    <p>The Prestige Bonus calculation is as follows:</p>
                                    <p><strong>Prestige Bonus = 1 + (Total Prestige / 2150)</strong></p>
                                    <p>Total Prestige is based on your team's points and the Championship bonuses you've earned for all seasons.</p>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="teamMembersInfoHeading">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#teamMembersInfoCollapse" aria-expanded="true" aria-controls="teamMembersInfoCollapse" id="team-members-info-tutorial">
                                    Team Members Information
                                </button>
                            </h2>
                            <div id="teamMembersInfoCollapse" class="accordion-collapse collapse" aria-labelledby="teamMembersInfoHeading" data-bs-parent="#gameInfoAccordion">
                                <div class="accordion-body">
                                    <p>Team Members are the core of your team and your most valuable resource.</p>
                                    <p>Team Members have a 'Lifespan' of 4 seasons, and will graduate after their 4th season.</p>
                                    <p>Each week you will see the total number of team members and the amount already assigned to tasks this week.</p>
                                    <hr>
                                    <p>Below is an example of Week 1, Season 1. You start with 7 team members, and none are assigned to tasks yet.</p>
                                    <p style="font-weight: bold; text-align: center;">7 (0)</p>
                                    <p>As you assign team members to tasks, the number of assigned team members will increase, but the total number will stay the same.</p>
                                    <p style="font-weight: bold; text-align: center;">7 (3)</p>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="subteamLeadersInfoHeading">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#subteamLeadersInfoCollapse" aria-expanded="true" aria-controls="subteamLeadersInfoCollapse" id="subteam-leaders-info-tutorial">
                                    Subteam Leaders Information
                                </button>
                            </h2>
                            <div id="subteamLeadersInfoCollapse" class="accordion-collapse collapse" aria-labelledby="subteamLeadersInfoHeading" data-bs-parent="#gameInfoAccordion">
                                <div class="accordion-body">
                                    <p>Subteam Leaders can be unlocked for $2,000.</p>
                                    <p>Subteam Leader is a permanent upgrade to 1 selected team member. This upgrade lasts only until that student graduates.</p>
                                    <p>A subteam leader can be assigned to a task. This will waive the team member requirements and provide a 33% reduction in resource costs.</p>
                                    <p>Subteam Leaders can be assigned to any task, but only one task per week.</p>
                                    <hr>
                                    <p>Below is an example of Week 1, Season 1. You bought 1 subteam leader, and none are assigned to tasks yet.</p>
                                    <p style="font-weight: bold; text-align: center;">1 (0)</p>
                                    <p>As you assign the subteam leaders to a task, the number of assigned subteam leaders will increase, but the total number will stay the same.</p>
                                    <p style="font-weight: bold; text-align: center;">1 (1)</p>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="materialsInfoHeading">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#materialsInfoCollapse" aria-expanded="true" aria-controls="materialsInfoCollapse" id="materials-info-tutorial">
                                    Materials Information
                                </button>
                            </h2>
                            <div id="materialsInfoCollapse" class="accordion-collapse collapse" aria-labelledby="materialsInfoHeading" data-bs-parent="#gameInfoAccordion">
                                <div class="accordion-body">
                                    <p>Materials are used to complete tasks. Tasks may use any amount of materials, and the cost will be displayed on the task button.</p>
                                    <p>Materials can be purchased for $500 for 50 units. This is a fixed cost and will not <strong>normally</strong> increase...</p>
                                    <br>
                                    <p>Teams are given 400 materials to start their Rookie season, and an additional 100 materials to start any additional season.</p>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="moneyInfoHeading">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#moneyInfoCollapse" aria-expanded="true" aria-controls="moneyInfoCollapse" id="money-info-tutorial">
                                    Money Information
                                </button>
                            </h2>
                            <div id="moneyInfoCollapse" class="accordion-collapse collapse" aria-labelledby="moneyInfoHeading" data-bs-parent="#gameInfoAccordion">
                                <div class="accordion-body">
                                    <p>Money is used to purchase materials, and unlock subteam leaders.</p>
                                    <p>Money can be earned by completing tasks. The amount earned will be displayed as part of the rewards for the task.</p>
                                    <br>
                                    <p>Teams are given $6,000 to start their Rookie season, and an additional $6,000 to start any additional season.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p> You can learn more by clicking on any of the <span class="text-muted btn btn-info" id="i-info-tutorial">i</span> buttons throughout the game.</p>
                    <hr>
                    <h3 class="text-center">Ready to Start?</h3>
                    <!-- Team name and Number input -->
                    <div class="container mb-3">
                        <div class="row g-3">
                            <div class="col-md-4">
                                <label for="team-number-input" class="form-label">Team Number</label>
                                <input type="number" class="form-control" placeholder="Enter a team number" aria-label="Team Number" id="team-number-input" min="0" max="99999">
                            </div>
                            <div class="col-md-2 d-flex align-items-end">
                                <button class="btn btn-primary w-100" id="random-team-number-btn"><span class="fas fa-dice"></span></button>
                            </div>
                            <div class="col-md-4">
                                <label for="team-name-input" class="form-label">Team Name</label>
                                <input type="text" class="form-control" placeholder="Enter a team name" aria-label="Team Name" id="team-name-input">
                            </div>
                            <div class="col-md-2 d-flex align-items-end">
                                <button class="btn btn-primary w-100" id="random-team-name-btn"><span class="fas fa-dice"></span></button>
                            </div>
                            <div class="col-md-4">
                                <label for="team-color-input" class="form-label">Team Color</label>
                                <input type="color" class="form-control" aria-label="Team Color" id="team-color-input">
                            </div>
                            <div class="col-md-2 d-flex align-items-end">
                                <button class="btn btn-primary w-100" id="random-team-color-btn"><span class="fas fa-dice"></span></button>
                            </div>
                            <div class="col-12 text-center">
                                <button class="btn btn-primary mt-3" id="submit-team-info-btn">Register Your Team!</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Rookie Team Modal -->
    <div class="modal fade" id="loadingRookieTeamModal" tabindex="-1" aria-labelledby="loadingRookieTeamModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="loadingRookieTeamModalLabel">Generating Rookie Team</h2>
                </div>
                <div class="modal-body text-center">
                    <p id="loading-progress">Initializing...</p>
                    <div id="new-team-info">
                        <!-- Dynamically populated team info -->
                    </div>
                    <hr>
                    <div id="new-members-list">
                        <!-- Dynamically populated member list -->
                    </div>
                </div>
                <!-- Footer is initially Hidden, has a button with countdown timer -->
                <div class="modal-footer" id="loading-footer" style="opacity: 0;">
                    <p id="loading-countdown">Done! Starting in <span id="countdown-number">5</span> seconds...</p>
                    <button type="button" class="btn btn-primary" id="loading-countdown-btn">Skip?</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Change Team Color Modal -->
    <div class="modal fade" id="changeTeamColorModal" tabindex="-1" aria-labelledby="changeTeamColorModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="changeTeamColorModalLabel">Change Team Color</h2>
                </div>
                <div class="modal-body">
                    <input type="color" class="form-control" id="team-color-picker">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="change-team-color-btn">Change Color</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Change Team Name Modal -->
    <div class="modal fade" id="changeTeamNameModal" tabindex="-1" aria-labelledby="changeTeamNameModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="changeTeamNameModalLabel">Change Team Name</h2>
                </div>
                <div class="modal-body">
                    <input type="text" class="form-control" id="change-team-name-input">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="change-team-name-btn">Change Name</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Unlock Subteam Leader Modal -->
    <div class="modal fade" id="unlockSubteamLeaderModal" tabindex="-1" aria-labelledby="unlockSubteamLeaderModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="unlockSubteamLeaderModalLabel">Select a Member to Promote</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="member-selection-list">
                        <!-- Dynamically populated member list -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Roster Modal -->
    <div class="modal fade" id="rosterModal" tabindex="-1" aria-labelledby="rosterModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="rosterModalLabel">Team Roster</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="roster-modal-body">
                    <!-- ID badges will be dynamically inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Task Choice Modal -->
    <div class="modal fade" id="taskModal" tabindex="-1" aria-labelledby="taskModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="modal-title" id="taskModalLabel">Task Decision</h2>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body" id="task-modal-body">
            <!-- Task description and choices will be inserted here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Regional Competition Modal -->
    <div class="modal fade" id="regionalCompetitionModal" tabindex="-1" aria-labelledby="regionalCompetitionModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="regionalCompetitionModalLabel">Regional Competition</h2>
                </div>
                <div class="modal-body">
                    <!-- Regional Results table -->
                    <table class="table table-bordered text-center">
                        <thead>
                            <tr>
                                <th>Ranking</th>
                                <th>Team</th>
                                <th>Wins</th>
                                <th>Losses</th>
                                <th>Ties</th>
                                <th>Points</th>
                            </tr>
                        </thead>
                        <tbody id="regional-results">
                            <!-- Regional results will be dynamically inserted here -->
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="advance-from-regional-btn">Continue</button>
                </div>
            </div>
        </div>
    </div>

    <!-- World Championship Modal -->
    <div class="modal fade" id="worldChampionshipModal" tabindex="-1" aria-labelledby="worldChampionshipModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="worldChampionshipModalLabel">World Championship</h2>
                </div>
                <div class="modal-body">
                    <!-- World Championship Results table -->
                    <table class="table table-bordered text-center">
                        <thead>
                            <tr>
                                <th>Ranking</th>
                                <th>Team</th>
                                <th>Wins</th>
                                <th>Losses</th>
                                <th>Ties</th>
                                <th>Points</th>
                            </tr>
                        </thead>
                        <tbody id="world-championship-results">
                            <!-- World Championship results will be dynamically inserted here -->
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="advance-from-world-championship-btn">Continue</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Information Modals -->
    <div class="modal fade" id="seasonInfoModal" tabindex="-1" aria-labelledby="seasonInfoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="seasonInfoModalLabel">Season Information</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body blue-bumper">
                    <h3>Build Phase</h3>
                    <p>Each 'Build' phase consists of 8 weeks. Your team builds up skill points, materials, and money to prepare for the 'Competition'.</p>
                    <p>Teams are given $6,000, and 400 materials to start their Rookie season, and they do NOT have to pay the registration fee unless they qualify for the World Championship.</p>
                    <p>After the Rookie season, teams will still get the $6,000 grant, but only 100 additional materials to start any additional season.</p>
                    <p>As you accomplish 'Build' phase tasks, your team's skill levels advance. This is not a visual metric, but a background mechanic that plays into the 'Competition' phase.</p>
                    <hr>
                    <h3>Competition Phase</h3>
                    <p>The 'Competition' phase assumes a Regional Model for simplicity sake. Your team will compete in a regional event, and possibly advance to the World Championship.</p>
                    <p>This phase will auto advance showing a result of each match. The odds of win/loss/tie are based on your team's skill level, as well as any special bonuses you've earned, and a hint of randomness.</p>
                    <p>Your team will play 10 Qualifier matches (based on the 2024 San Francisco Regional Schedule for 114), and then move on to the Elimination Rounds.</p>
                    <p>Elimination rounds work with a single elimination winner takes all for simplicity sake. The top 5 teams of the regional event will advance to the World Championship.</p>
                    <p>At the World Championship, your team will play 10 Qualifier matches, and then move on to the Elimination Rounds. The winner and runner up of the World Championship will earn extra bonuses towards the next season.</p>
                    <hr>
                    <h3>Post-Competition</h3>
                    <p>After the World Championship, the game will calculate your team's prestige bonus, and then move on to the next season.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="weekInfoModal" tabindex="-1" aria-labelledby="weekInfoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="weekInfoModalLabel">Week Information</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body blue-bumper">
                    <p>Each week, you will be presented with a list of tasks to choose from. Each task will have a description, and a resource cost associated with it.</p>
                    <p>Tasks will help you build up your team's skill levels, and earn additional resources.</p>
                    <p>After you've completed all the tasks you can, you may advance to the next week. You can only advance if all 'Critical' tasks are completed. Otherwise the week will start over.</p>
                    <hr>
                    <h3>Non-Kitbot Path (Coming Soon)</h3>
                    <p>There will be a 'Non-Kitbot' path that will allow you to build a custom robot. This path will be more difficult, but will have a higher reward.</p>
                    <p>This will feature all new tasks as well as new prestige bonuses as well as 'footgun' tasks that waste resources.</p>
                    <p>Stay tuned for more information on this path in the future.</p>
                    <hr>
                    <h3>Retro Schedule (Coming Soon)</h3>
                    <p>There will be a 'Retro Schedule' that will change the build season to 6 weeks only. This will be a more difficult path, but will have a higher reward.</p>
                    <p>This will feature all new tasks for both the Kitbot and Non-Kitbot paths as well as new prestige bonuses.</p>
                    <p>Stay tuned for more information after the Non-Kitbot path is released.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="teamPointsInfoModal" tabindex="-1" aria-labelledby="teamPointsInfoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="teamPointsInfoModalLabel">Team Points Information</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body blue-bumper">
                    <p>Team Points are a hidden metric that will help determine your team's success in the 'Competition' phase.</p>
                    <p>As you complete tasks, your team's skill levels will increase, and so will your general team points.</p>
                    <p>Team Points are used to determine your team's odds of winning matches, and advancing to the World Championship.</p>
                    <p>Team Points are also used to determine your team's prestige bonus at the end of the season.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="prestigeBonusInfoModal" tabindex="-1" aria-labelledby="prestigeBonusInfoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="prestigeBonusInfoModalLabel">Prestige Bonus Information</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body blue-bumper">
                    <p>The Prestige Bonus is a bonus that will help your team in all future seasons.</p>
                    <p>It is calculated based on your team's performance in the 'Competition' phase, and is used as a multiplier for your team's skill levels in the 'Build' phase.</p>
                    <p>The Prestige Bonus calculation is as follows:</p>
                    <p><strong>Prestige Bonus = 1 + (Total Prestige / 2150)</strong></p>
                    <p>Total Prestige is based on your team's points and the Championship bonuses you've earned for all seasons.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="teamMembersInfoModal" tabindex="-1" aria-labelledby="teamMembersInfoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="teamMembersInfoModalLabel">Team Members Information</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body red-bumper">
                    <p>Team Members are the core of your team and your most valuable resource.</p>
                    <p>Team Members have a 'Lifespan' of 4 seasons, and will graduate after their 4th season.</p>
                    <p>Each week you will see the total number of team members and the amount already assigned to tasks this week.</p>
                    <hr>
                    <p>Below is an example of Week 1, Season 1. You start with 7 team members, and none are assigned to tasks yet.</p>
                    <p style="font-weight: bold; text-align: center;">7 (0)</p>
                    <p>As you assign team members to tasks, the number of assigned team members will increase, but the total number will stay the same.</p>
                    <p style="font-weight: bold; text-align: center;">7 (3)</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="subteamLeadersInfoModal" tabindex="-1" aria-labelledby="subteamLeadersInfoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="subteamLeadersInfoModalLabel">Subteam Leaders Information</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body red-bumper">
                    <p>Subteam Leaders can be unlocked for $2,000.</p>
                    <p>Subteam Leader is a permanent upgrade to 1 selected team member. This upgrade lasts only until that student graduates.</p>
                    <p>A subteam leader can be assigned to a task. This will waive the team member requirements and provide a 33% reduction in resource costs.</p>
                    <p>Subteam Leaders can be assigned to any task, but only one task per week.</p>
                    <hr>
                    <p>Below is an example of Week 1, Season 1. You bought 1 subteam leader, and none are assigned to tasks yet.</p>
                    <p style="font-weight: bold; text-align: center;">1 (0)</p>
                    <p>As you assign the subteam leaders to a task, the number of assigned subteam leaders will increase, but the total number will stay the same.</p>
                    <p style="font-weight: bold; text-align: center;">1 (1)</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="materialsInfoModal" tabindex="-1" aria-labelledby="materialsInfoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="materialsInfoModalLabel">Materials Information</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body red-bumper">
                    <p>Materials are used to complete tasks. Tasks may use any amount of materials, and the cost will be displayed on the task button.</p>
                    <p>Materials can be purchased for $500 for 50 units. This is a fixed cost and will not <strong>normally</strong> increase...</p>
                    <br>
                    <p>Teams are given 400 materials to start their Rookie season, and an additional 100 materials to start any additional season.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="moneyInfoModal" tabindex="-1" aria-labelledby="moneyInfoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="moneyInfoModalLabel">Money Information</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body red-bumper">
                    <p>Money is used to purchase materials, and unlock subteam leaders.</p>
                    <p>Money can be earned by completing tasks. The amount earned will be displayed as part of the rewards for the task.</p>
                    <br>
                    <p>Teams are given $6,000 to start their Rookie season, and an additional $6,000 to start any additional season.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Team Banners Info -->
    <div class="modal fade" id="teamBannersInfoModal" tabindex="-1" aria-labelledby="teamBannersInfoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="teamBannersInfoModalLabel">Team Banners Information</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body blue-bumper">
                    <p>Team Banners are a visual representation of your team's success in the 'Competition' phase.</p>
                    <p>Banners are earned by placing 1st in the Regional or World Championship events.</p>
                    <p>Each banner will be displayed on your team's profile, and will be a permanent reminder of your team's success.</p>
                    <hr>
                    <!-- Example Blue Banners in a row with col-6 -->
                    <div class="row text-center banner-row">
                        <div class="col-6">
                            <div class="blue-banner">
                                <h5>Regional</h5>
                                <span class="fas fa-crown"></span>
                                <p><span class="fas fa-calendar-alt"></span> X</p>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="blue-banner">
                                <h5>World</h5>
                                <span class="fas fa-crown"></span>
                                <p><span class="fas fa-calendar-alt"></span> X</p>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <p class="alert alert-warning">Note: Banners were implemented in version 1.0.2. Any championship wins you earned before this version will not be displayed.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- FAB -->
    <div class="left-fab">
        <button class="btn btn-primary" id="settings-btn"><span class="fas fa-cog"></span></button>
    </div>


</div>

    <!-- Footer -->
        <div class="container p-2">
            <div class="row">
                <div class="col-12" style="align-items: center; display: flex; flex-direction: column;">
                    <h2 class="text-uppercase">FRC Team Management Game v<span class="text-muted" id="game-version"></span></h2>
                    <p>&copy; <span id="current-year"></span> <a href="https://frczero.org" target="_blank">FRCZero.org</a></p>
                </div>
            </div>
        </div>
    </footer>
</div>

<!-- Bootstrap JS (Required for modals) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5/dist/js/bootstrap.bundle.min.js"></script>
<!-- Custom JS -->
<script type="module" src="GameState.js"></script>

<script>
    // Current Year
    const currentYear = new Date().getFullYear();
    document.getElementById('current-year').textContent = currentYear;

    // FOR MODAL LOGIC ONLY
    // Season info modal from the season-info button
    var seasonInfoModal = new bootstrap.Modal(document.getElementById('seasonInfoModal'), {
        keyboard: false
    });
    const seasonInfoButton = document.getElementById('season-info');
    seasonInfoButton.addEventListener('click', function() {
        seasonInfoModal.show();
    });

    // Week info modal from the week-info button
    var weekInfoModal = new bootstrap.Modal(document.getElementById('weekInfoModal'), {
        keyboard: false
    });
    const weekInfoButton = document.getElementById('week-info');
    weekInfoButton.addEventListener('click', function() {
        weekInfoModal.show();
    });

    // Team Points info modal from the team-points-info button
    var teamPointsInfoModal = new bootstrap.Modal(document.getElementById('teamPointsInfoModal'), {
        keyboard: false
    });
    const teamPointsInfoButton = document.getElementById('team-points-info');
    teamPointsInfoButton.addEventListener('click', function() {
        teamPointsInfoModal.show();
    });

    // Prestige Bonus info modal from the prestige-bonus-info button
    var prestigeBonusInfoModal = new bootstrap.Modal(document.getElementById('prestigeBonusInfoModal'), {
        keyboard: false
    });
    const prestigeBonusInfoButton = document.getElementById('prestige-bonus-info');
    prestigeBonusInfoButton.addEventListener('click', function() {
        prestigeBonusInfoModal.show();
    });

    // Team Members info modal from the team-members-info button
    var teamMembersInfoModal = new bootstrap.Modal(document.getElementById('teamMembersInfoModal'), {
        keyboard: false
    });
    const teamMembersInfoButton = document.getElementById('team-members-info');
    teamMembersInfoButton.addEventListener('click', function() {
        teamMembersInfoModal.show();
    });

    // Subteam Leaders info modal from the subteam-leaders-info button
    var subteamLeadersInfoModal = new bootstrap.Modal(document.getElementById('subteamLeadersInfoModal'), {
        keyboard: false
    });
    const subteamLeadersInfoButton = document.getElementById('subteam-leaders-info');
    subteamLeadersInfoButton.addEventListener('click', function() {
        subteamLeadersInfoModal.show();
    });

    // Materials info modal from the materials-info button
    var materialsInfoModal = new bootstrap.Modal(document.getElementById('materialsInfoModal'), {
        keyboard: false
    });
    const materialsInfoButton = document.getElementById('materials-info');
    materialsInfoButton.addEventListener('click', function() {
        materialsInfoModal.show();
    });

    // Money info modal from the money-info button
    var moneyInfoModal = new bootstrap.Modal(document.getElementById('moneyInfoModal'), {
        keyboard: false
    });
    const moneyInfoButton = document.getElementById('money-info');
    moneyInfoButton.addEventListener('click', function() {
        moneyInfoModal.show();
    });

    // Team Banners info modal from the team-banners-info button
    var teamBannersInfoModal = new bootstrap.Modal(document.getElementById('teamBannersInfoModal'), {
        keyboard: false
    });
    const teamBannersInfoButton = document.getElementById('team-banners-info');
    teamBannersInfoButton.addEventListener('click', function() {
        teamBannersInfoModal.show();
    });

    // Settings modal from the settings button
    var settingsModal = new bootstrap.Modal(document.getElementById('settingsModal'), {
        keyboard: false,
    });
    const settingsButton = document.getElementById('settings-btn');
    settingsButton.addEventListener('click', function() {
        settingsModal.show();
    });

    // SETTINGS ONLY
    // Theme from local storage
    const themeSwitch = document.getElementById('theme-switch');
    const currentTheme = localStorage.getItem('theme');
    if (currentTheme === 'light') {
        document.body.setAttribute('data-bs-theme', 'light');
        themeSwitch.checked = false;
        themeSwitch.nextElementSibling.textContent = 'Light Mode';
    } else {
        document.body.setAttribute('data-bs-theme', 'dark');
        themeSwitch.checked = true;
        themeSwitch.nextElementSibling.textContent = 'Dark Mode';
    }
    themeSwitch.addEventListener('change', function() {
        if (themeSwitch.checked) {
            document.body.setAttribute('data-bs-theme', 'dark');
            localStorage.setItem('theme', 'dark');
            // Update the label for the theme switch
            themeSwitch.nextElementSibling.textContent = 'Dark Mode';
        } else {
            document.body.setAttribute('data-bs-theme', 'light');
            localStorage.setItem('theme', 'light');
            // Update the label for the theme switch
            themeSwitch.nextElementSibling.textContent = 'Light Mode';
        }
    });
</script>
</body>
</html>
